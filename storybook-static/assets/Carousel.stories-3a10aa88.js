import{j as O}from"./jsx-runtime-6eef64cc.js";import{r as o}from"./index-c013ead5.js";import{A as K}from"./Arrow-20336a8f.js";import{B}from"./Button-88339172.js";import{m as me}from"./index-f82cbd1b.js";import{u as ue,f as de,a as fe,P as pe,L as ge,m as he}from"./motion-dae81d18.js";import"./_commonjsHelpers-725317a4.js";function le(){const e=o.useRef(!1);return ue(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function we(){const e=le(),[i,s]=o.useState(0),n=o.useCallback(()=>{e.current&&s(i+1)},[i]);return[o.useCallback(()=>de.postRender(n),[n]),i]}class be extends o.Component{getSnapshotBeforeUpdate(i){const s=this.props.childRef.current;if(s&&i.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ve({children:e,isPresent:i}){const s=o.useId(),n=o.useRef(null),c=o.useRef({width:0,height:0,top:0,left:0});return o.useInsertionEffect(()=>{const{width:f,height:p,top:l,left:w}=c.current;if(i||!n.current||!f||!p)return;n.current.dataset.motionPopId=s;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            top: ${l}px !important;
            left: ${w}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[i]),o.createElement(be,{isPresent:i,childRef:n,sizeRef:c},o.cloneElement(e,{ref:n}))}const A=({children:e,initial:i,isPresent:s,onExitComplete:n,custom:c,presenceAffectsLayout:f,mode:p})=>{const l=fe(Oe),w=o.useId(),m=o.useMemo(()=>({id:w,initial:i,isPresent:s,custom:c,onExitComplete:t=>{l.set(t,!0);for(const r of l.values())if(!r)return;n&&n()},register:t=>(l.set(t,!1),()=>l.delete(t))}),f?void 0:[s]);return o.useMemo(()=>{l.forEach((t,r)=>l.set(r,!1))},[s]),o.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),p==="popLayout"&&(e=o.createElement(ve,{isPresent:s},e)),o.createElement(pe.Provider,{value:m},e)};function Oe(){return new Map}function xe(e){return o.useEffect(()=>()=>e(),[])}const E=e=>e.key||"";function Se(e,i){e.forEach(s=>{const n=E(s);i.set(n,s)})}function ye(e){const i=[];return o.Children.forEach(e,s=>{o.isValidElement(s)&&i.push(s)}),i}const je=({children:e,custom:i,initial:s=!0,onExitComplete:n,exitBeforeEnter:c,presenceAffectsLayout:f=!0,mode:p="sync"})=>{const l=o.useContext(ge).forceRender||we()[0],w=le(),m=ye(e);let t=m;const r=o.useRef(new Map).current,a=o.useRef(t),u=o.useRef(new Map).current,h=o.useRef(!0);if(ue(()=>{h.current=!1,Se(m,u),a.current=t}),xe(()=>{h.current=!0,u.clear(),r.clear()}),h.current)return o.createElement(o.Fragment,null,t.map(d=>o.createElement(A,{key:E(d),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:f,mode:p},d)));t=[...t];const b=a.current.map(E),v=m.map(E),R=b.length;for(let d=0;d<R;d++){const g=b[d];v.indexOf(g)===-1&&!r.has(g)&&r.set(g,void 0)}return p==="wait"&&r.size&&(t=[]),r.forEach((d,g)=>{if(v.indexOf(g)!==-1)return;const x=u.get(g);if(!x)return;const y=b.indexOf(g);let S=d;if(!S){const W=()=>{u.delete(g),r.delete(g);const $=a.current.findIndex(D=>D.key===g);if(a.current.splice($,1),!r.size){if(a.current=m,w.current===!1)return;l(),n&&n()}};S=o.createElement(A,{key:E(x),isPresent:!1,onExitComplete:W,custom:i,presenceAffectsLayout:f,mode:p},x),r.set(g,S)}t.splice(y,0,S)}),t=t.map(d=>{const g=d.key;return r.has(g)?d:o.createElement(A,{key:E(d),isPresent:!0,presenceAffectsLayout:f,mode:p},d)}),o.createElement(o.Fragment,null,r.size?t:t.map(d=>o.cloneElement(d)))},Ee="_wrapper_1vxpx_90",Pe="_imageWrapper_1vxpx_96",Re="_image_1vxpx_96",De="_buttonsWrapper_1vxpx_118",Ce="_dotsWrapper_1vxpx_129",Me="_btnDots_1vxpx_137",j={wrapper:Ee,imageWrapper:Pe,image:Re,buttonsWrapper:De,dotsWrapper:Ce,btnDots:Me},Ie=e=>{const[i,s]=o.useState(0),[n,c]=o.useState(!1),[f,p]=o.useState(null),l=o.useRef(null);function w(a){s(a),me.play()}function m(){l.current&&(l.current.addEventListener("mouseover",()=>c(!0)),l.current.addEventListener("mouseleave",()=>c(!1)))}function t(){p("left"),s(i===0?e.length-1:u=>--u)}return{increment:o.useCallback(()=>{p("right");const a=e.length-1===i;s(a?0:u=>++u)},[e.length,i]),decrement:t,direction:f,isHovering:n,updateHover:m,carouselRef:l,selectedItem:i,updateSelectedImage:w}},Te="Left",_e="Right",ke="Up",Le="Down",P={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},F={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},X="mousemove",Y="mouseup",Ue="touchend",He="touchmove",Ne="touchstart";function We(e,i,s,n){return e>i?s>0?_e:Te:n>0?Le:ke}function G(e,i){if(i===0)return e;const s=Math.PI/180*i,n=e[0]*Math.cos(s)+e[1]*Math.sin(s),c=e[1]*Math.cos(s)-e[0]*Math.sin(s);return[n,c]}function $e(e,i){const s=t=>{const r="touches"in t;r&&t.touches.length>1||e((a,u)=>{u.trackMouse&&!r&&(document.addEventListener(X,n),document.addEventListener(Y,p));const{clientX:h,clientY:b}=r?t.touches[0]:t,v=G([h,b],u.rotationAngle);return u.onTouchStartOrOnMouseDown&&u.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},a),F),{initial:v.slice(),xy:v,start:t.timeStamp||0})})},n=t=>{e((r,a)=>{const u="touches"in t;if(u&&t.touches.length>1)return r;if(t.timeStamp-r.start>a.swipeDuration)return r.swiping?Object.assign(Object.assign({},r),{swiping:!1}):r;const{clientX:h,clientY:b}=u?t.touches[0]:t,[v,R]=G([h,b],a.rotationAngle),d=v-r.xy[0],g=R-r.xy[1],x=Math.abs(d),y=Math.abs(g),S=(t.timeStamp||0)-r.start,W=Math.sqrt(x*x+y*y)/(S||1),$=[d/(S||1),g/(S||1)],D=We(x,y,d,g),z=typeof a.delta=="number"?a.delta:a.delta[D.toLowerCase()]||P.delta;if(x<z&&y<z&&!r.swiping)return r;const C={absX:x,absY:y,deltaX:d,deltaY:g,dir:D,event:t,first:r.first,initial:r.initial,velocity:W,vxvy:$};C.first&&a.onSwipeStart&&a.onSwipeStart(C),a.onSwiping&&a.onSwiping(C);let V=!1;return(a.onSwiping||a.onSwiped||a[`onSwiped${D}`])&&(V=!0),V&&a.preventScrollOnSwipe&&a.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},r),{first:!1,eventData:C,swiping:!0})})},c=t=>{e((r,a)=>{let u;if(r.swiping&&r.eventData){if(t.timeStamp-r.start<a.swipeDuration){u=Object.assign(Object.assign({},r.eventData),{event:t}),a.onSwiped&&a.onSwiped(u);const h=a[`onSwiped${u.dir}`];h&&h(u)}}else a.onTap&&a.onTap({event:t});return a.onTouchEndOrOnMouseUp&&a.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},r),F),{eventData:u})})},f=()=>{document.removeEventListener(X,n),document.removeEventListener(Y,p)},p=t=>{f(),c(t)},l=(t,r)=>{let a=()=>{};if(t&&t.addEventListener){const u=Object.assign(Object.assign({},P.touchEventOptions),r.touchEventOptions),h=[[Ne,s,u],[He,n,Object.assign(Object.assign({},u),r.preventScrollOnSwipe?{passive:!1}:{})],[Ue,c,u]];h.forEach(([b,v,R])=>t.addEventListener(b,v,R)),a=()=>h.forEach(([b,v])=>t.removeEventListener(b,v))}return a},m={ref:t=>{t!==null&&e((r,a)=>{if(r.el===t)return r;const u={};return r.el&&r.el!==t&&r.cleanUpTouch&&(r.cleanUpTouch(),u.cleanUpTouch=void 0),a.trackTouch&&t&&(u.cleanUpTouch=l(t,a)),Object.assign(Object.assign(Object.assign({},r),{el:t}),u)})}};return i.trackMouse&&(m.onMouseDown=s),[m,l]}function Ae(e,i,s,n){return!i.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?i.preventScrollOnSwipe!==s.preventScrollOnSwipe||i.touchEventOptions.passive!==s.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,i)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,i)})}function Fe(e){const{trackMouse:i}=e,s=o.useRef(Object.assign({},F)),n=o.useRef(Object.assign({},P)),c=o.useRef(Object.assign({},n.current));c.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},P),e);let f;for(f in P)n.current[f]===void 0&&(n.current[f]=P[f]);const[p,l]=o.useMemo(()=>$e(w=>s.current=w(s.current,n.current),{trackMouse:i}),[i]);return s.current=Ae(s.current,n.current,c.current,l),p}const q=({timer:e=5e3,showDots:i=!0,showPrevNext:s=!0,...n})=>{const c=Ie(n.images),f=Fe({onSwipedLeft:()=>n.isSwippable&&c.increment(),onSwipedRight:()=>n.isSwippable&&c.decrement(),trackMouse:!0,preventScrollOnSwipe:!0});function p(m){switch(m.key){case"ArrowLeft":c.decrement();break;case"ArrowRight":c.increment();break;case"Home":c.updateSelectedImage(0);break;case"End":c.updateSelectedImage(n.images.length-1);break}}o.useEffect(()=>{if(n.autoPlay&&(c.updateHover(),!c.isHovering&&n.stopOnHover)){const m=setInterval(()=>c.increment(),e);return()=>clearInterval(m)}},[c,n.autoPlay,n.stopOnHover,e]);const l=()=>n.images.map((m,t)=>{const r=t===c.selectedItem;return O.jsx("button",{className:j.btnDots,onClick:()=>c.updateSelectedImage(t),"aria-label":`button to select image ${c.selectedItem+1}`,style:{background:`${r?"#333333":""}`}})}),w=()=>O.jsxs("div",{className:j.buttonsWrapper,children:[O.jsx(B,{noFullScreen:!0,onClick:c.decrement,"aria-controls":"carousel-items","aria-label":"button to preview the image",children:O.jsx(K,{variant:!0,outline:!0,orientation:"left"})}),O.jsx(B,{noFullScreen:!0,onClick:c.increment,"aria-controls":"carousel-items","aria-label":"button to go to next image",children:O.jsx(K,{variant:!0,outline:!0})})]});return O.jsxs("div",{...f,id:"carousel-items",className:j.wrapper,onKeyDown:p,ref:c.carouselRef,"aria-label":"custom carousel","aria-roledescription":"carousel",children:[O.jsx("div",{role:"group","aria-roledescription":"slide",className:j.imageWrapper,"aria-label":`${c.selectedItem} of ${n.images.length-1}`,children:O.jsx(je,{children:O.jsx(he.img,{initial:{x:c.direction==="left"?-100:100},animate:{x:0},exit:{x:c.direction==="right"?-100:100},transition:{type:"keyframes"},className:j.image,src:n.images[c.selectedItem],alt:`carousel ${c.selectedItem}`})},c.selectedItem)}),i&&O.jsx("div",{className:j.dotsWrapper,children:l()}),s&&w()]})};try{q.displayName="Carousel",q.__docgenInfo={description:"",displayName:"Carousel",props:{images:{defaultValue:null,description:"",name:"images",required:!0,type:{name:"string[]"}},autoPlay:{defaultValue:null,description:"",name:"autoPlay",required:!1,type:{name:"boolean"}},timer:{defaultValue:{value:"5000"},description:"",name:"timer",required:!1,type:{name:"number"}},showDots:{defaultValue:{value:"true"},description:"",name:"showDots",required:!1,type:{name:"boolean"}},showPrevNext:{defaultValue:{value:"true"},description:"",name:"showPrevNext",required:!1,type:{name:"boolean"}},stopOnHover:{defaultValue:null,description:"",name:"stopOnHover",required:!1,type:{name:"boolean"}},isSwippable:{defaultValue:null,description:"",name:"isSwippable",required:!1,type:{name:"boolean"}}}}}catch{}const k=""+new URL("image-2847c635.jfif",import.meta.url).href,L=""+new URL("image2-84d229d3.jfif",import.meta.url).href,U=""+new URL("image3-beef29e5.jfif",import.meta.url).href,H=""+new URL("image4-1fa56972.jfif",import.meta.url).href,N=""+new URL("image5-aaaff799.jfif",import.meta.url).href,Ge={title:"Design System/components/Carousel",component:q},M={args:{images:[k,L,U,H,N],autoPlay:!1,stopOnHover:!0,showDots:!0,showPrevNext:!0,timer:1e3}},I={args:{images:[k,L,U,H,N],autoPlay:!0,stopOnHover:!0,showDots:!0,showPrevNext:!0,timer:1e3}},T={args:{images:[k,L,U,H,N],autoPlay:!0,stopOnHover:!0,showDots:!1,showPrevNext:!1,timer:1e3}},_={args:{images:[k,L,U,H,N],autoPlay:!0,isSwippable:!0,stopOnHover:!0,showDots:!0,showPrevNext:!0,timer:1e3}};var J,Q,Z;M.parameters={...M.parameters,docs:{...(J=M.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    images: [image, image2, image3, image4, image5],
    autoPlay: false,
    stopOnHover: true,
    showDots: true,
    showPrevNext: true,
    timer: 1000
  }
}`,...(Z=(Q=M.parameters)==null?void 0:Q.docs)==null?void 0:Z.source}}};var ee,te,ne;I.parameters={...I.parameters,docs:{...(ee=I.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  args: {
    images: [image, image2, image3, image4, image5],
    autoPlay: true,
    stopOnHover: true,
    showDots: true,
    showPrevNext: true,
    timer: 1000
  }
}`,...(ne=(te=I.parameters)==null?void 0:te.docs)==null?void 0:ne.source}}};var re,se,oe;T.parameters={...T.parameters,docs:{...(re=T.parameters)==null?void 0:re.docs,source:{originalSource:`{
  args: {
    images: [image, image2, image3, image4, image5],
    autoPlay: true,
    stopOnHover: true,
    showDots: false,
    showPrevNext: false,
    timer: 1000
  }
}`,...(oe=(se=T.parameters)==null?void 0:se.docs)==null?void 0:oe.source}}};var ae,ie,ce;_.parameters={..._.parameters,docs:{...(ae=_.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    images: [image, image2, image3, image4, image5],
    autoPlay: true,
    isSwippable: true,
    stopOnHover: true,
    showDots: true,
    showPrevNext: true,
    timer: 1000
  }
}`,...(ce=(ie=_.parameters)==null?void 0:ie.docs)==null?void 0:ce.source}}};const Je=["Primary","AutoPlay","HiddenInfos","Swippable"];export{I as AutoPlay,T as HiddenInfos,M as Primary,_ as Swippable,Je as __namedExportsOrder,Ge as default};
//# sourceMappingURL=Carousel.stories-3a10aa88.js.map
