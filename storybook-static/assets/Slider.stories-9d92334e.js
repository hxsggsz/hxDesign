import{j as _}from"./jsx-runtime-6eef64cc.js";import{r as v}from"./index-c013ead5.js";import{a as re,M as ge,b as pe,i as he,u as ye,c as ae,f as se,d as R,e as B,g as Ve,h as Se,j as Ae,S as be,H as ve,v as q,s as xe,k as we,l as ke,n as Ee,o as Me,p as _e,r as De,q as Ce,t as Te,w as Be,x as Pe,y as oe,z as Re,m as qe}from"./motion-dae81d18.js";import"./_commonjsHelpers-725317a4.js";function ie(e){const t=re(()=>pe(e)),{isStatic:n}=v.useContext(ge);if(n){const[,r]=v.useState(e);v.useEffect(()=>t.on("change",r),[])}return t}const je=e=>typeof e=="object"&&e.mix,Ne=e=>je(e)?e.mix:void 0;function Ke(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],a=e[1+n],s=e[2+n],o=e[3+n],c=he(a,s,{mixer:Ne(s[0]),...o});return t?c(r):c}function N(e,t){const n=ie(t()),r=()=>n.set(t());return r(),ye(()=>{const a=()=>se.update(r,!1,!0),s=e.map(o=>o.on("change",a));return()=>{s.forEach(o=>o()),ae(r)}}),n}function Le(e){R.current=[],e();const t=N(R.current,e);return R.current=void 0,t}function ze(e,t,n,r){if(typeof e=="function")return Le(e);const a=typeof t=="function"?t:Ke(t,n,r);return Array.isArray(e)?X(e,a):X([e],([s])=>a(s))}function X(e,t){const n=re(()=>[]);return N(e,()=>{n.length=0;const r=e.length;for(let a=0;a<r;a++)n[a]=e[a].get();return t(n)})}function Fe(e,...t){const n=e.length;function r(){let a="";for(let s=0;s<n;s++){a+=e[s];const o=t[s];o&&(a+=B(o)?o.get():o)}return a}return N(t.filter(B),r)}function ue(e,t,n){var r;if(typeof e=="string"){let a=document;t&&(Ve(!!t.current),a=t.current),n?((r=n[e])!==null&&r!==void 0||(n[e]=a.querySelectorAll(e)),e=n[e]):e=a.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}function Ge(e,t){let n;const r=()=>{const{currentTime:a}=t,o=(a===null?0:a.value)/100;n!==o&&e(o),n=o};return se.update(r,!0),()=>ae(r)}const Ie=Se(()=>window.ScrollTimeline!==void 0);class le{constructor(t){this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>{if(Ie()&&r.attachTimeline)r.attachTimeline(t);else return r.pause(),Ge(a=>{r.time=r.duration*a},t)});return()=>{n.forEach((r,a)=>{r&&r(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function He(e){return typeof e=="object"&&!Array.isArray(e)}function Oe(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Ae(e)?new be(t,{enableHardwareAcceleration:!1}):new ve(t,{enableHardwareAcceleration:!0});n.mount(e),q.set(e,n)}function We(e,t=100){const n=xe({keyframes:[0,t],...e}),r=Math.min(we(n),ke);return{type:"keyframes",ease:a=>n.next(r*a).value/t,duration:Ee(r)}}function $(e,t,n,r){var a;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:(a=r.get(t))!==null&&a!==void 0?a:e}const Xe=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function $e(e,t){return Me(e)?e[Xe(0,e.length,t)]:e}function Ue(e,t,n){for(let r=0;r<e.length;r++){const a=e[r];a.at>t&&a.at<n&&(De(e,a),r--)}}function Je(e,t,n,r,a,s){Ue(e,a,s);for(let o=0;o<t.length;o++)e.push({value:t[o],at:_e(a,s,r[o]),easing:$e(n,o)})}function Qe(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Ye="easeInOut";function Ze(e,{defaultTransition:t={},...n}={},r){const a=t.duration||.3,s=new Map,o=new Map,c={},d=new Map;let m=0,u=0,y=0;for(let x=0;x<e.length;x++){const p=e[x];if(typeof p=="string"){d.set(p,u);continue}else if(!Array.isArray(p)){d.set(p.name,$(u,p.at,m,d));continue}let[A,l,i={}]=p;i.at!==void 0&&(u=$(u,i.at,m,d));let f=0;const S=(h,V,w,E=0,M=0)=>{const g=et(h),{delay:P=0,times:k=Te(g),type:fe="keyframes",...de}=V;let{ease:K=t.ease||"easeOut",duration:b}=V;const L=typeof P=="function"?P(E,M):P,z=g.length;if(z<=2&&fe==="spring"){let H=100;if(z===2&&rt(g)){const me=g[1]-g[0];H=Math.abs(me)}const O={...de};b!==void 0&&(O.duration=Pe(b));const W=We(O,H);K=W.ease,b=W.duration}b??(b=a);const F=u+L,G=F+b;k.length===1&&k[0]===0&&(k[1]=1);const I=k.length-g.length;I>0&&Be(k,I),g.length===1&&g.unshift(null),Je(w,g,K,k,F,G),f=Math.max(L+b,f),y=Math.max(G,y)};if(B(A)){const h=U(A,o);S(l,i,J("default",h))}else{const h=ue(A,r,c),V=h.length;for(let w=0;w<V;w++){l=l,i=i;const E=h[w],M=U(E,o);for(const g in l)S(l[g],tt(i,g),J(g,M),w,V)}m=u,u+=f}}return o.forEach((x,p)=>{for(const A in x){const l=x[A];l.sort(Qe);const i=[],f=[],S=[];for(let V=0;V<l.length;V++){const{at:w,value:E,easing:M}=l[V];i.push(E),f.push(Ce(0,y,w)),S.push(M||"easeOut")}f[0]!==0&&(f.unshift(0),i.unshift(i[0]),S.unshift(Ye)),f[f.length-1]!==1&&(f.push(1),i.push(null)),s.has(p)||s.set(p,{keyframes:{},transition:{}});const h=s.get(p);h.keyframes[A]=i,h.transition[A]={...t,duration:y,ease:S,times:f,...n}}}),s}function U(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function J(e,t){return t[e]||(t[e]=[]),t[e]}function et(e){return Array.isArray(e)?e:[e]}function tt(e,t){return e[t]?{...e,...e[t]}:{...e}}const nt=e=>typeof e=="number",rt=e=>e.every(nt);function ce(e,t,n,r){const a=ue(e,r),s=a.length,o=[];for(let c=0;c<s;c++){const d=a[c];q.has(d)||Oe(d);const m=q.get(d),u={...n};typeof u.delay=="function"&&(u.delay=u.delay(c,s)),o.push(...Re(m,{...t,transition:u},{}))}return new le(o)}const at=e=>Array.isArray(e)&&Array.isArray(e[0]);function st(e,t,n){const r=[];return Ze(e,t,n).forEach(({keyframes:s,transition:o},c)=>{let d;B(c)?d=oe(c,s.default,o.default):d=ce(c,s,o),r.push(d)}),new le(r)}const ot=e=>{function t(n,r,a){let s;return at(n)?s=st(n,r,e):He(r)?s=ce(n,r,a,e):s=oe(n,r,a),e&&e.animations.push(s),s}return t},it=ot(),ut="_track_poeqs_90",lt="_trackProgress_poeqs_99",ct="_button_poeqs_104",ft="_trackClick_poeqs_113",D={track:ut,trackProgress:lt,button:ct,trackClick:ft},j=({min:e=0,max:t=100,...n})=>{const a=ie(n.defaultValue??0),s=ze(a,l=>l+12/2),o=Fe`
    linear-gradient(90deg, #423f40 ${s.get()}px, #7f7d7e 0)`,c=v.useRef(null),d=v.useRef(null),m=v.useRef(null),[u,y]=v.useState(n.sliderValue??n.defaultValue??0);function x(){if(!c.current||!m.current)return;const l=c.current.getBoundingClientRect(),i=l.x+l.width/2,f=m.current.getBoundingClientRect(),S=(i-f.x)/f.width;y(Math.round(S*(t-e)))}function p(l){if(!m.current)return;const{left:i,width:f}=m.current.getBoundingClientRect(),S=l.pageX-i,h=Math.max(0,Math.min(S/f,1)),V=Math.round(h*(t-e));y(V),it(a,h*f)}function A(l){switch(l.key){case"ArrowLeft":if(u<=e)return;y(i=>i-=1);break;case"ArrowRight":if(u>=t)return;y(i=>i+=1);break;case"Home":y(e);break;case"End":y(t);break}}return v.useEffect(()=>{if(!m.current)return;const l=u/(t-e),i=m.current.getBoundingClientRect();a.set(l*i.width)},[a,t,e,u]),v.useEffect(()=>{n.setSliderValue&&n.setSliderValue(u)},[u]),_.jsxs("div",{role:"slider","aria-valuemin":e,"aria-valuemax":t,ref:d,"aria-valuenow":u,className:D.track,"aria-orientation":"horizontal",style:{background:o.get()},"aria-valuetext":`the value of this slider is: ${u}`,children:[_.jsx("div",{className:D.trackProgress,ref:m,style:{left:12,right:12}}),_.jsx(qe.button,{drag:"x",ref:c,dragElastic:!1,onDrag:x,dragMomentum:!1,style:{x:a},className:D.button,onKeyDown:A,"data-testid":"trigger-button",dragConstraints:d,whileDrag:{cursor:"grabbing"},"aria-label":"button that trigger the slider"}),_.jsx("div",{"data-testid":"click-slider",onPointerDown:p,className:D.trackClick})]})};try{j.displayName="Slider",j.__docgenInfo={description:"",displayName:"Slider",props:{min:{defaultValue:{value:"0"},description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:{value:"100"},description:"",name:"max",required:!1,type:{name:"number"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"number"}},sliderValue:{defaultValue:null,description:"",name:"sliderValue",required:!0,type:{name:"number | undefined"}},setSliderValue:{defaultValue:null,description:"",name:"setSliderValue",required:!0,type:{name:"Dispatch<SetStateAction<number>> | undefined"}}}}}catch{}const ht={title:"Design System/components/Slider",component:j},C={args:{min:0,max:100,sliderValue:void 0,setSliderValue:void 0}},T={args:{min:0,max:100,defaultValue:30,sliderValue:void 0,setSliderValue:void 0}};var Q,Y,Z;C.parameters={...C.parameters,docs:{...(Q=C.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    sliderValue: undefined,
    setSliderValue: undefined
  }
}`,...(Z=(Y=C.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};var ee,te,ne;T.parameters={...T.parameters,docs:{...(ee=T.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    defaultValue: 30,
    sliderValue: undefined,
    setSliderValue: undefined
  }
}`,...(ne=(te=T.parameters)==null?void 0:te.docs)==null?void 0:ne.source}}};const yt=["Primary","DefautValue"];export{T as DefautValue,C as Primary,yt as __namedExportsOrder,ht as default};
//# sourceMappingURL=Slider.stories-9d92334e.js.map
